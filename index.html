<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B0_M2_001_Droit social et veille sociale</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Random colors for accents, neutral background -->
    <!-- Application Structure Plan: Ce document est structur√© comme un guide interactif de formation. Une barre de progression visuelle en haut permet de suivre l'avancement. Le contenu est divis√© en sections th√©matiques (Introduction, Notion de Droit Social, Sources Nationales √âtatiques, Sources Professionnelles, Hi√©rarchie des Sources, Veille Sociale, √Ä Retenir), chacune √©tant initialement verrouill√©e sauf la premi√®re. Pour d√©bloquer la section suivante, l'utilisateur doit r√©ussir un mini-quiz (2-3 questions) associ√© √† la section courante avec un score de 100%. Une fois toutes les sections valid√©es, le quiz final devient accessible. Cette approche gamifi√©e, avec des retours visuels et des validations par mini-quiz, assure une lecture active et une compr√©hension approfondie avant de passer au module suivant, rendant l'apprentissage ludique et efficace. -->
    <!-- Visualization & Content Choices: 
        - Barre de Progression (HTML/CSS): Objectif: Informer, Engager. Des cercles color√©s indiquent l'√©tat de chaque section (verrouill√©e, active, compl√©t√©e), offrant un feedback visuel imm√©diat sur l'avancement.
        - Sections th√©matiques (HTML/CSS/JS - Accordions avec verrouillage): Objectif: Organiser, Informer, Guider. Les sections sont encapsul√©es dans des conteneurs qui g√®rent leur √©tat (verrouill√©/d√©verrouill√©) via des classes CSS (opacit√©, pointer-events). Les accord√©ons permettent de masquer/afficher le contenu.
        - Mini-Quiz par Section (HTML/CSS/JS): Objectif: √âvaluer, Renforcer. Chaque section a son propre mini-quiz. La r√©ussite √† 100% est obligatoire pour la validation. Cela force l'utilisateur √† assimiler le contenu avant de progresser. Le quiz final est conditionn√© par la validation de toutes les sections.
        - Texte d√©taill√© avec mise en gras et emojis: Objectif: Informer, Engager. La mise en gras souligne les concepts cl√©s, et les emojis ajoutent une touche visuelle et ludique.
        - Quiz Principal (HTML/CSS/JS): Objectif: √âvaluer, Renforcer. Le quiz complet est d√©bloqu√© √† la fin du parcours, avec des justifications d√©taill√©es pour chaque r√©ponse, bas√©es sur des sources r√©glementaires.
        - Couleurs et Pep (Tailwind CSS): Utilisation de couleurs al√©atoires pour les boutons, les bordures, les arri√®re-plans subtils et les ic√¥nes, rendant l'interface plus dynamique et "beau gosse".
        - Justification: Ces choix visent √† transformer un sujet r√©glementaire complexe en une exp√©rience d'apprentissage interactive, structur√©e et motivante, sans recourir √† des images ou des SVG. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F8F8; /* Light gray background */
            color: #333333; /* Dark gray text */
        }
        .quiz-option input[type="radio"]:checked + label {
            background-color: var(--accent-light-color);
            border-color: var(--accent-dark-color);
        }
        .quiz-option label {
            transition: all 0.2s ease;
        }
        .quiz-feedback.correct {
            background-color: #D4EDDA; /* Light green */
            color: #155724; /* Dark green */
        }
        .quiz-feedback.incorrect {
            background-color: #F8D7DA; /* Light red */
            color: #721C24; /* Dark red */
        }
        .section-locked {
            opacity: 0.5;
            pointer-events: none;
            filter: grayscale(80%);
        }
        .progress-dot {
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 50%;
            background-color: #B0BEC5; /* Blue-gray 300 */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: bold;
            color: #FFFFFF;
            transition: background-color 0.3s ease;
        }
        .progress-dot.active {
            background-color: var(--accent-dark-color);
        }
        .progress-dot.completed {
            background-color: #388E3C; /* Dark green */
        }
        .progress-line {
            flex-grow: 1;
            height: 4px;
            background-color: #CFD8DC; /* Blue-gray 200 */
            transition: background-color 0.3s ease;
        }
        .progress-line.completed {
            background-color: #388E3C; /* Dark green */
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-gradient-to-r from-gray-800 to-gray-700 shadow-lg" style="background-image: linear-gradient(to right, var(--header-start-color), var(--header-end-color));">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-white">
            <h1 class="text-3xl font-bold tracking-tight">B0_M2_001_Droit social et veille sociale</h1>
            <p class="mt-1 text-gray-200" style="color: var(--header-text-color);">Comprenez le droit social et la veille sociale en entreprise. ‚öñÔ∏è</p>
        </div>
    </header>

    <main class="py-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            
            <section id="introduction" class="mb-12 bg-white p-6 rounded-xl shadow-lg border-l-4" style="border-color: var(--accent-dark-color);">
                <details open class="cursor-pointer">
                    <summary class="font-bold text-xl text-gray-800 flex items-center py-2">
                        Introduction : Droit Social et Veille üìö
                        <span class="ml-2 text-sm font-normal" style="color: var(--accent-dark-color);">Section active</span>
                    </summary>
                    <div class="mt-4 text-gray-700 space-y-4">
                        <p>Bienvenue dans ce module qui aborde la notion de <strong>droit social</strong>, ses diff√©rentes sources, leur hi√©rarchie, et le positionnement n√©cessaire en mati√®re de <strong>veille sociale</strong>.</p>
                        <p>√Ä l'issue de ce cours, vous serez sensibilis√© √† la d√©marche de veille sociale et vous aurez une meilleure compr√©hension des implications du droit social dans l'ensemble des proc√©dures internes aux entreprises.</p>
                        <p>Ce module vous guidera √† travers :</p>
                        <ul class="list-disc list-inside ml-4">
                            <li>La <strong>notion de droit social</strong> (droit du travail, droit de la s√©curit√© sociale).</li>
                            <li>Les <strong>sources nationales √©tatiques</strong> (Constitution, lois, r√®glements, ordonnances, Code du travail, jurisprudence).</li>
                            <li>Les <strong>sources professionnelles</strong> (conventions et accords collectifs, usages, engagements unilat√©raux, accords atypiques).</li>
                            <li>La <strong>hi√©rarchie traditionnelle des sources du droit social</strong>.</li>
                            <li>La <strong>conduite de la veille sociale</strong>.</li>
                        </ul>
                        <div class="flex justify-center my-4">
                            <div class="p-6 rounded-lg font-semibold text-center text-2xl" style="background-color: var(--accent-light-color); color: var(--accent-dark-color);">
                                Le droit social : un pilier de l'entreprise ! üè¢
                            </div>
                        </div>
                    </div>
                </details>
                <div class="mini-quiz-area mt-6 p-4 rounded-lg" style="background-color: var(--accent-light-color);" id="mini-quiz-introduction">
                    <h4 class="font-bold text-lg mb-4" style="color: var(--accent-dark-color);">Mini-Quiz : Introduction üìù</h4>
                    <div id="mini-quiz-introduction-container"></div>
                    <button class="validate-section-btn mt-4 py-2 px-4 text-white rounded-lg font-semibold hover:opacity-90 transition" style="background-color: var(--accent-dark-color);">Valider la Section ‚úÖ</button>
                </div>
            </section>

            <!-- Global Instruction for Progression -->
            <div class="border-l-4 p-4 mb-8" role="alert" style="background-color: var(--accent-light-color); border-color: var(--accent-dark-color); color: var(--accent-dark-color);">
                <p class="font-bold">Comment √ßa marche ?</p>
                <p>Pour progresser dans ce module, vous devez <strong>valider chaque section</strong>. Lisez attentivement le contenu, puis r√©pondez correctement √† <strong>toutes les questions du mini-quiz</strong> associ√©. Une fois le mini-quiz r√©ussi √† 100%, le bouton "Valider la Section" appara√Ætra, d√©bloquant ainsi la section suivante. Bonne lecture et bon quiz !</p>
            </div>

            <!-- Progress Bar -->
            <div class="flex items-center justify-between mb-12 px-4">
                <div class="progress-dot" id="dot-introduction">1</div>
                <div class="progress-line" id="line-introduction"></div>
                <div class="progress-dot" id="dot-notion-droit-social">2</div>
                <div class="progress-line" id="line-notion-droit-social"></div>
                <div class="progress-dot" id="dot-sources-nationales-etatiques">3</div>
                <div class="progress-line" id="line-sources-nationales-etatiques"></div>
                <div class="progress-dot" id="dot-sources-professionnelles">4</div>
                <div class="progress-line" id="line-sources-professionnelles"></div>
                <div class="progress-dot" id="dot-hierarchie-sources">5</div>
                <div class="progress-line" id="line-hierarchie-sources"></div>
                <div class="progress-dot" id="dot-veille-sociale">6</div>
                <div class="progress-line" id="line-veille-sociale"></div>
                <div class="progress-dot" id="dot-a-retenir">7</div>
                <div class="progress-line" id="line-a-retenir"></div>
                <div class="progress-dot" id="dot-final-quiz">üèÅ</div>
            </div>

            <section id="notion-droit-social" class="learning-section mb-12 bg-white p-6 rounded-xl shadow-lg border-l-4 border-gray-300 section-locked">
                <details class="cursor-pointer">
                    <summary class="font-bold text-xl text-gray-800 flex items-center py-2">
                        Notion de Droit Social üßë‚Äç‚öñÔ∏è
                        <span class="ml-2 text-gray-500 text-sm font-normal" id="status-notion-droit-social">(Verrouill√©e üîí)</span>
                    </summary>
                    <div class="mt-4 text-gray-700 space-y-4">
                        <h3 class="font-semibold text-lg">A. Droit Social :</h3>
                        <p>Le <strong>droit social</strong> est une branche du droit autonome qui se compose de deux √©l√©ments : le <strong>droit du travail</strong> et le <strong>droit de la s√©curit√© sociale</strong>.</p>

                        <h3 class="font-semibold text-lg mt-4">B. Droit du Travail :</h3>
                        <p>C'est la branche du droit qui r√©glemente les relations entre employeurs et salari√©s. Il couvre :</p>
                        <ul class="list-disc list-inside ml-4">
                            <li>Les <strong>relations individuelles</strong> issues du contrat de travail (formation, conditions de travail, dur√©e, cong√©s, r√©mun√©ration, hygi√®ne et s√©curit√©, rupture du contrat).</li>
                            <li>Les <strong>relations collectives de travail</strong> (repr√©sentants du personnel, institutions repr√©sentatives, missions et droits des repr√©sentants).</li>
                        </ul>

                        <h3 class="font-semibold text-lg mt-4">C. Droit de la S√©curit√© Sociale :</h3>
                        <p>C'est la branche du droit qui organise la <strong>protection sociale</strong>. Elle prot√®ge chacun contre certains risques de la vie professionnelle ou personnelle :</p>
                        <ul class="list-disc list-inside ml-4">
                            <li>Maladie, Maternit√©, Vieillesse, Invalidit√©, D√©c√®s.</li>
                            <li>Accidents du travail, Maladies professionnelles.</li>
                        </ul>
                        <p class="italic"><strong>Remarque :</strong> La protection contre le ch√¥mage, bien que faisant partie de la protection sociale, n'est pas r√©glement√©e par le droit de la s√©curit√© sociale, mais par le droit du travail.</p>
                    </div>
                </details>
                <div class="mini-quiz-area mt-6 p-4 rounded-lg" style="background-color: var(--accent-light-color);" id="mini-quiz-notion-droit-social">
                    <h4 class="font-bold text-lg mb-4" style="color: var(--accent-dark-color);">Mini-Quiz : Notion de Droit Social üìù</h4>
                    <div id="mini-quiz-notion-droit-social-container"></div>
                    <button class="validate-section-btn mt-4 py-2 px-4 text-white rounded-lg font-semibold hover:opacity-90 transition" style="background-color: var(--accent-dark-color);">Valider la Section ‚úÖ</button>
                </div>
            </section>

            <section id="sources-nationales-etatiques" class="learning-section mb-12 bg-white p-6 rounded-xl shadow-lg border-l-4 border-gray-300 section-locked">
                <details class="cursor-pointer">
                    <summary class="font-bold text-xl text-gray-800 flex items-center py-2">
                        Sources Nationales √âtatiques du Droit Social üèõÔ∏è
                        <span class="ml-2 text-gray-500 text-sm font-normal" id="status-sources-nationales-etatiques">(Verrouill√©e üîí)</span>
                    </summary>
                    <div class="mt-4 text-gray-700 space-y-4">
                        <h3 class="font-semibold text-lg">A. Textes Constitutionnels :</h3>
                        <p>Le bloc de constitutionnalit√© (Constitution de 1958, D√©claration des droits de l'homme et du citoyen, Pr√©ambule de la Constitution de 1946) contient les <strong>principes fondamentaux du droit fran√ßais</strong>, y compris les droits sociaux fondamentaux comme la libert√© du travail, la libert√© syndicale, le droit de gr√®ve, le droit √† la n√©gociation collective et le droit √† la protection sociale.</p>

                        <h3 class="font-semibold text-lg mt-4">B. Lois, R√®glements et Ordonnances :</h3>
                        <p>Le droit social est une mati√®re partag√©e entre le Parlement (lois) et le Gouvernement (r√®glements).</p>
                        <ul class="list-disc list-inside ml-4">
                            <li>Les <strong>Lois</strong> (vot√©es par le Parlement) posent les principes fondamentaux (ex: dur√©e hebdomadaire de 35 heures, formation professionnelle).</li>
                            <li>Les <strong>R√®glements</strong> (d√©crets, arr√™t√©s minist√©riels) d√©finissent les modalit√©s d'application des lois.</li>
                            <li>Les <strong>Ordonnances</strong> permettent au Gouvernement de l√©gif√©rer rapidement sur des domaines normalement r√©serv√©s au Parlement, avec son autorisation.</li>
                        </ul>

                        <h3 class="font-semibold text-lg mt-4">C. Code du Travail :</h3>
                        <p>C'est une <strong>compilation de textes</strong> (lois et r√®glements) relatifs au droit du travail. C'est un outil pratique qui rassemble les principaux textes. Les articles pr√©c√©d√©s d'une lettre L sont issus de lois, et ceux pr√©c√©d√©s de R ou D sont issus de textes r√©glementaires.</p>

                        <h3 class="font-semibold text-lg mt-4">D. Jurisprudence :</h3>
                        <p>La jurisprudence correspond √† l'ensemble des d√©cisions rendues par les tribunaux. Elle joue un r√¥le important en droit social en compl√©tant, pr√©cisant et interpr√©tant les textes l√©gaux, notamment en cas de vide juridique ou de r√®gles impr√©cises.</p>
                        <p>Les juridictions intervenant en droit social sont nombreuses :</p>
                        <ul class="list-disc list-inside ml-4">
                            <li><strong>Conseil de prud'hommes :</strong> litiges individuels employeur/salari√© (licenciement, salaires).</li>
                            <li><strong>Tribunal d'instance :</strong> contentieux √©lectoral.</li>
                            <li><strong>Tribunal de grande instance :</strong> litiges collectifs (droit de gr√®ve).</li>
                            <li><strong>Tribunal des affaires de s√©curit√© sociale :</strong> litiges protection sociale.</li>
                            <li><strong>Juridictions p√©nales :</strong> infractions au droit social (non-respect SMIC, harc√®lement).</li>
                            <li><strong>Tribunaux administratifs :</strong> recours contre d√©cisions administratives (refus inspecteur du travail).</li>
                        </ul>
                    </div>
                </details>
                <div class="mini-quiz-area mt-6 p-4 rounded-lg" style="background-color: var(--accent-light-color);" id="mini-quiz-sources-nationales-etatiques">
                    <h4 class="font-bold text-lg mb-4" style="color: var(--accent-dark-color);">Mini-Quiz : Sources Nationales √âtatiques üìù</h4>
                    <div id="mini-quiz-sources-nationales-etatiques-container"></div>
                    <button class="validate-section-btn mt-4 py-2 px-4 text-white rounded-lg font-semibold hover:opacity-90 transition" style="background-color: var(--accent-dark-color);">Valider la Section ‚úÖ</button>
                </div>
            </section>

            <section id="sources-professionnelles" class="learning-section mb-12 bg-white p-6 rounded-xl shadow-lg border-l-4 border-gray-300 section-locked">
                <details class="cursor-pointer">
                    <summary class="font-bold text-xl text-gray-800 flex items-center py-2">
                        Sources Professionnelles du Droit Social ü§ù
                        <span class="ml-2 text-gray-500 text-sm font-normal" id="status-sources-professionnelles">(Verrouill√©e üîí)</span>
                    </summary>
                    <div class="mt-4 text-gray-700 space-y-4">
                        <p>√Ä c√¥t√© des r√®gles impos√©es par les pouvoirs publics, il existe de nombreuses r√®gles issues de la <strong>n√©gociation collective</strong> entre les partenaires sociaux (employeurs/organisations patronales et syndicats de salari√©s). C'est pourquoi le droit social est un droit largement n√©goci√©.</p>

                        <h3 class="font-semibold text-lg mt-4">A. Conventions et Accords Collectifs :</h3>
                        <ul class="list-disc list-inside ml-4">
                            <li>Les <strong>Conventions Collectives</strong> : Textes qui traitent de l'ensemble des conditions d'emploi, de travail, de formation professionnelle et des garanties sociales. Elles sont applicables √† un secteur d'activit√© (convention de branche) et peuvent √™tre conclues √† diff√©rents niveaux g√©ographiques (national, r√©gional, local).</li>
                            <li>Les <strong>Accords Collectifs</strong> : Textes qui traitent d'un point particulier des relations de travail (ex: am√©nagement du temps de travail, salaires). Ils peuvent √™tre interprofessionnels, de branche, d'entreprise ou d'√©tablissement.</li>
                        </ul>
                        <p class="italic mt-2"><strong>Rapports entre accords de diff√©rents niveaux :</strong> Depuis la loi du 4 mai 2004, il est possible de conclure des <strong>accords d√©rogatoires</strong> (moins favorables aux salari√©s) dans certains cas pr√©cis, sauf si le texte sup√©rieur est imp√©ratif ou pour des questions fondamentales (salaire minimum, classifications professionnelles).</p>

                        <h3 class="font-semibold text-lg mt-4">B. Usages Professionnels :</h3>
                        <p>Ce sont des pratiques spontan√©es de l'employeur qui constituent un avantage pour les salari√©s. Pour devenir obligatoires, elles doivent pr√©senter trois caract√©ristiques :</p>
                        <ul class="list-disc list-inside ml-4">
                            <li><strong>G√©n√©ralit√© :</strong> avantage accord√© √† l'ensemble ou √† une cat√©gorie de salari√©s.</li>
                            <li><strong>Fixit√© :</strong> modalit√©s de l'avantage toujours les m√™mes.</li>
                            <li><strong>Constance :</strong> pratique r√©guli√®re.</li>
                        </ul>
                        <p class="italic">L'employeur peut d√©noncer un usage s'il informe personnellement chaque salari√©, informe les repr√©sentants du personnel et respecte un d√©lai de pr√©venance suffisant.</p>

                        <h3 class="font-semibold text-lg mt-4">C. Engagement Unilat√©ral de l'Employeur :</h3>
                        <p>Manifestation de volont√© de l'employeur qui d√©cide seul d'accorder un avantage aux salari√©s (ex: prime, jours de cong√©s suppl√©mentaires). Il peut √™tre d√©nonc√© dans les m√™mes conditions que les usages.</p>

                        <h3 class="font-semibold text-lg mt-4">D. Accords Atypiques :</h3>
                        <p>Accords conclus entre l'employeur et les repr√©sentants du personnel (CE, DP) ou l'ensemble des salari√©s, sans intervention des syndicats repr√©sentatifs. Ils sont √©quivalents √† un engagement unilat√©ral et peuvent √™tre d√©nonc√©s dans les m√™mes conditions.</p>
                    </div>
                </details>
                <div class="mini-quiz-area mt-6 p-4 rounded-lg" style="background-color: var(--accent-light-color);" id="mini-quiz-sources-professionnelles">
                    <h4 class="font-bold text-lg mb-4" style="color: var(--accent-dark-color);">Mini-Quiz : Sources Professionnelles üìù</h4>
                    <div id="mini-quiz-sources-professionnelles-container"></div>
                    <button class="validate-section-btn mt-4 py-2 px-4 text-white rounded-lg font-semibold hover:opacity-90 transition" style="background-color: var(--accent-dark-color);">Valider la Section ‚úÖ</button>
                </div>
            </section>

            <section id="hierarchie-sources" class="learning-section mb-12 bg-white p-6 rounded-xl shadow-lg border-l-4 border-gray-300 section-locked">
                <details class="cursor-pointer">
                    <summary class="font-bold text-xl text-gray-800 flex items-center py-2">
                        Hi√©rarchie des Sources du Droit Social ü™ú
                        <span class="ml-2 text-gray-500 text-sm font-normal" id="status-hierarchie-sources">(Verrouill√©e üîí)</span>
                    </summary>
                    <div class="mt-4 text-gray-700 space-y-4">
                        <h3 class="font-semibold text-lg">A. Pr√©sentation de la Hi√©rarchie Traditionnelle :</h3>
                        <p>C'est la hi√©rarchie traditionnellement admise dans tous les domaines du droit, du plus √©lev√© au moins √©lev√© :</p>
                        <ol class="list-decimal list-inside ml-4 space-y-1">
                            <li>Textes de valeur constitutionnelle (Bloc de constitutionnalit√©)</li>
                            <li>Conventions et trait√©s internationaux ; Droit europ√©en et communautaire</li>
                            <li>Lois et ordonnances</li>
                            <li>R√®glements (d√©crets et arr√™t√©s)</li>
                            <li>Conventions et accords collectifs</li>
                            <li>Usages professionnels et accords atypiques</li>
                            <li>Engagements unilat√©raux de l'employeur</li>
                            <li>R√®glement int√©rieur</li>
                            <li>Contrat de travail</li>
                        </ol>

                        <h3 class="font-semibold text-lg mt-4">B. Principe de L√©galit√© et ses Limites :</h3>
                        <p>Le <strong>principe de l√©galit√©</strong> s'applique : aucune r√®gle ne peut aller √† l'encontre d'une r√®gle de niveau sup√©rieur. Chaque texte doit √™tre conforme aux textes qui lui sont sup√©rieurs dans la hi√©rarchie.</p>
                        <p class="italic"><strong>Exemple :</strong> Un contrat de travail doit respecter la convention collective, qui doit √™tre conforme aux lois, qui doivent respecter la Constitution et le droit europ√©en.</p>

                        <p class="mt-4">Cependant, le droit social √©tant un <strong>droit de protection des salari√©s</strong>, il existe des particularit√©s :</p>
                        <ul class="list-disc list-inside ml-4">
                            <li><strong>R√©gime de faveur (Ordre public social) :</strong> Il est possible d'√©carter la r√®gle sup√©rieure pour adopter des dispositions <strong>plus favorables</strong> aux salari√©s. C'est alors la source la plus favorable qui s'applique.
                                <p class="italic">Exemple : Si la loi pr√©voit 5 semaines de cong√©s pay√©s, un accord de branche peut en pr√©voir 6, et un accord d'entreprise 7. C'est la disposition la plus favorable qui s'applique.</p>
                            </li>
                            <li><strong>Limite : Ordre public absolu :</strong> Certaines lois sont imp√©ratives et ne peuvent conna√Ætre aucune d√©rogation, m√™me dans un sens plus favorable aux salari√©s (ex: interdiction d'indexer les salaires sur le SMIC).</li>
                            <li><strong>Depuis 2004 (Ordre public conditionnel ou d√©rogatoire) :</strong> Possibilit√© de n√©gocier des r√®gles <strong>moins favorables</strong> aux salari√©s (accords d√©rogatoires) pour sauvegarder les int√©r√™ts de l'entreprise et l'emploi, mais uniquement dans des domaines limit√©s (dur√©e du travail, heures suppl√©mentaires, am√©nagement du temps de travail).</li>
                        </ul>
                    </div>
                </details>
                <div class="mini-quiz-area mt-6 p-4 rounded-lg" style="background-color: var(--accent-light-color);" id="mini-quiz-hierarchie-sources">
                    <h4 class="font-bold text-lg mb-4" style="color: var(--accent-dark-color);">Mini-Quiz : Hi√©rarchie des Sources üìù</h4>
                    <div id="mini-quiz-hierarchie-sources-container"></div>
                    <button class="validate-section-btn mt-4 py-2 px-4 text-white rounded-lg font-semibold hover:opacity-90 transition" style="background-color: var(--accent-dark-color);">Valider la Section ‚úÖ</button>
                </div>
            </section>

            <section id="veille-sociale" class="learning-section mb-12 bg-white p-6 rounded-xl shadow-lg border-l-4 border-gray-300 section-locked">
                <details class="cursor-pointer">
                    <summary class="font-bold text-xl text-gray-800 flex items-center py-2">
                        Conduite de la Veille Sociale üîç
                        <span class="ml-2 text-gray-500 text-sm font-normal" id="status-veille-sociale">(Verrouill√©e üîí)</span>
                    </summary>
                    <div class="mt-4 text-gray-700 space-y-4">
                        <h3 class="font-semibold text-lg">A. Pr√©ambule et Objectifs :</h3>
                        <p>La <strong>veille sociale</strong> est une d√©marche d'anticipation et d'√©coute des signaux informationnels, indispensable pour les entreprises. Elle correspond √† une n√©cessit√© d'actualiser l'ensemble des informations sociales, contribuant au maintien d'une information r√©cente et fiable. Elle permet d'√©viter d'agir dans l'urgence et de traiter les relations sociales de l'entreprise dans les meilleures conditions.</p>

                        <h3 class="font-semibold text-lg mt-4">B. Organisation de la D√©marche de Veille Sociale :</h3>
                        <p>La veille sociale repose sur deux actions fondamentales :</p>
                        <ul class="list-disc list-inside ml-4">
                            <li>La <strong>recherche et collecte d'informations</strong>.</li>
                            <li>La <strong>v√©rification de la fiabilit√© de l'information et de sa source</strong>.</li>
                        </ul>
                        <h4 class="font-semibold text-md mt-2">1. Recherche et collecte d'informations :</h4>
                        <p>Les sources d'informations sont diverses :</p>
                        <ul class="list-disc list-inside ml-4">
                            <li>Codes du travail, de la s√©curit√© sociale (papier ou en ligne).</li>
                            <li>Conventions collectives (papier ou en ligne).</li>
                            <li>Ouvrages sp√©cialis√©s (guides, m√©mentos).</li>
                            <li>Sites sp√©cialis√©s en informations juridiques (legifrance.gouv.fr, dsn-info.fr, etc.).</li>
                            <li>Publications p√©riodiques d'informations.</li>
                        </ul>
                        <p class="italic">Pour chaque information collect√©e, il convient de relever sa source et sa date de publication.</p>

                        <h4 class="font-semibold text-md mt-2">2. V√©rification de la fiabilit√© de l'information et de sa source :</h4>
                        <p>La fiabilit√© repose sur la <strong>l√©gitimit√© de la source</strong> et le <strong>caract√®re r√©cent</strong> de l'information. Il est crucial de recentrer les recherches sur des sites officiels de l'√âtat ou de la branche professionnelle et des professionnels du droit social.</p>
                        <p class="italic">Les e-newsletters et sites sp√©cialis√©s permettent de rester inform√© en temps r√©el.</p>

                        <h3 class="font-semibold text-lg mt-4">Exemple d'Application : R√®glement Int√©rieur üìù</h3>
                        <p>L'entreprise Excelsior, avec 18 salari√©s, vient d'embaucher un nouveau salari√©. Le chef d'entreprise vous demande les obligations en mati√®re de r√®glement int√©rieur.</p>
                        <p>Selon la veille sociale, le r√®glement int√©rieur est obligatoire dans les entreprises dont l'effectif est <strong>sup√©rieur ou √©gal √† 50 salari√©s</strong> (Article L1311-2 du Code du travail).</p>
                        <p><strong>R√©ponse √† l'employeur :</strong> Tant que le nombre de salari√©s n'est pas sup√©rieur ou √©gal √† 50, le r√®glement int√©rieur reste facultatif. Vous pourrez anticiper sa r√©alisation en amont de la cinquanti√®me embauche.</p>
                        <p class="italic mt-2">Le r√®glement int√©rieur est un document √©crit fixant les mesures de sant√©/s√©curit√©, les conditions de participation des salari√©s au r√©tablissement de ces conditions, et les r√®gles disciplinaires. Il doit √™tre affich√©, d√©pos√© au greffe du conseil de prud'hommes, et transmis √† l'inspecteur du travail.</p>
                    </div>
                </details>
                <div class="mini-quiz-area mt-6 p-4 rounded-lg" style="background-color: var(--accent-light-color);" id="mini-quiz-veille-sociale">
                    <h4 class="font-bold text-lg mb-4" style="color: var(--accent-dark-color);">Mini-Quiz : Veille Sociale üìù</h4>
                    <div id="mini-quiz-veille-sociale-container"></div>
                    <button class="validate-section-btn mt-4 py-2 px-4 text-white rounded-lg font-semibold hover:opacity-90 transition" style="background-color: var(--accent-dark-color);">Valider la Section ‚úÖ</button>
                </div>
            </section>

            <section id="a-retenir" class="learning-section mb-12 bg-white p-6 rounded-xl shadow-lg border-l-4 border-gray-300 section-locked">
                <details class="cursor-pointer">
                    <summary class="font-bold text-xl text-gray-800 flex items-center py-2">
                        √Ä Retenir : Les Points Cl√©s du Droit Social et de la Veille ‚úîÔ∏è
                        <span class="ml-2 text-gray-500 text-sm font-normal" id="status-a-retenir">(Verrouill√©e üîí)</span>
                    </summary>
                    <div class="mt-4 text-gray-700 space-y-4">
                        <h3 class="font-semibold text-lg">Notion de Droit Social :</h3>
                        <ul class="list-disc list-inside ml-4">
                            <li>Le droit social regroupe le <strong>droit du travail</strong> (relations employeurs/salari√©s) et le <strong>droit de la s√©curit√© sociale</strong> (protection sociale).</li>
                        </ul>

                        <h3 class="font-semibold text-lg mt-4">Sources du Droit Social :</h3>
                        <ul class="list-disc list-inside ml-4">
                            <li><strong>Sources nationales √©tatiques :</strong> Textes constitutionnels, Lois, R√®glements (d√©crets, ordonnances), Code du travail, Jurisprudence.</li>
                            <li><strong>Sources professionnelles (droit n√©goci√©) :</strong> Conventions et accords collectifs (interprofessionnels, de branche, d'entreprise, d'√©tablissement), Usages professionnels, Engagements unilat√©raux de l'employeur, Accords atypiques.</li>
                        </ul>

                        <h3 class="font-semibold text-lg mt-4">Hi√©rarchie des Sources :</h3>
                        <ul class="list-disc list-inside ml-4">
                            <li>Principe de l√©galit√© : Un texte inf√©rieur ne peut contredire un texte sup√©rieur.</li>
                            <li>Sp√©cificit√© du droit social : Possibilit√© de d√©roger √† la r√®gle sup√©rieure pour des dispositions <strong>plus favorables</strong> aux salari√©s (r√©gime de faveur), sauf pour l'ordre public absolu.</li>
                            <li>Depuis 2004 : Possibilit√© d'accords d√©rogatoires (moins favorables) dans des domaines limit√©s pour l'emploi.</li>
                        </ul>

                        <h3 class="font-semibold text-lg mt-4">Veille Sociale :</h3>
                        <ul class="list-disc list-inside ml-4">
                            <li>D√©marche d'anticipation pour <strong>actualiser les informations sociales</strong>.</li>
                            <li>Actions cl√©s : <strong>Recherche/collecte</strong> et <strong>v√©rification de la fiabilit√©</strong> (l√©gitimit√© de la source, caract√®re r√©cent).</li>
                            <li>Importance de consulter les sites officiels et les professionnels du droit.</li>
                        </ul>
                    </div>
                </details>
                <div class="mini-quiz-area mt-6 p-4 rounded-lg" style="background-color: var(--accent-light-color);" id="mini-quiz-a-retenir">
                    <h4 class="font-bold text-lg mb-4" style="color: var(--accent-dark-color);">Mini-Quiz : √Ä Retenir üìù</h4>
                    <div id="mini-quiz-a-retenir-container"></div>
                    <button class="validate-section-btn mt-4 py-2 px-4 text-white rounded-lg font-semibold hover:opacity-90 transition" style="background-color: var(--accent-dark-color);">Valider la Section ‚úÖ</button>
                </div>
            </section>

            <section id="final-quiz-section" class="mt-16 bg-white p-6 rounded-xl shadow-lg border-l-4 border-gray-300 section-locked">
                <h2 class="text-2xl font-bold text-gray-800 text-center mb-8">Quiz Final sur le Droit Social et la Veille Sociale üéì</h2>
                <p class="mt-2 text-lg text-gray-600 text-center mb-8" id="final-quiz-intro">Mettez vos connaissances √† l'√©preuve ! R√©pondez aux questions et d√©couvrez les <strong>justifications d√©taill√©es</strong> pour chaque bonne r√©ponse, comme un vrai expert. üí°</p>
                
                <div id="quiz-container" class="hidden">
                    <h3 id="quiz-question" class="text-xl font-semibold text-gray-800 mb-4"></h3>
                    <div id="quiz-options" class="space-y-3 mb-6">
                        <!-- Options will be dynamically loaded here -->
                    </div>
                    <div id="quiz-feedback" class="p-4 rounded-lg text-sm hidden">
                        <!-- Feedback will be displayed here -->
                    </div>
                    <div class="mt-4 p-4 bg-gray-50 rounded-lg text-sm text-gray-700 hidden">
                        <h4 class="font-bold mb-2">Explication D√©taill√©e üßê</h4>
                        <p id="explanation-text"></p>
                    </div>
                    <div class="mt-6 flex justify-between">
                        <button id="submit-answer" class="py-2 px-4 text-white rounded-lg font-semibold hover:opacity-90 transition" style="background-color: var(--accent-dark-color);">Valider la r√©ponse ‚úÖ</button>
                        <button id="next-question" class="py-2 px-4 bg-gray-300 text-gray-800 rounded-lg font-semibold hover:bg-gray-400 transition hidden">Question suivante ‚û°Ô∏è</button>
                    </div>
                </div>
                <div id="start-final-quiz-container" class="text-center">
                    <button id="start-final-quiz-btn" class="py-3 px-6 text-white rounded-lg font-bold text-lg hover:opacity-90 transition" style="background-color: var(--accent-dark-color);">D√©marrer le Quiz Final ! üöÄ</button>
                </div>
            </section>

        </div>
    </main>

    <footer class="bg-gradient-to-r from-gray-800 to-gray-700 mt-16" style="background-image: linear-gradient(to right, var(--header-start-color), var(--header-end-color));">
        <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 text-center text-sm text-gray-200" style="color: var(--header-text-color);">
            <p>Cr√©√© par Mathilde Martine PAISLEY L'Enervante, Enervanteüí™üèæ</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Function to generate random colors
            function getRandomColor() {
                const colors = [
                    { headerStart: '#4CAF50', headerEnd: '#8BC34A', headerText: '#DCEDC8', accentDark: '#4CAF50', accentLight: '#E8F5E9' }, // Green
                    { headerStart: '#2196F3', headerEnd: '#03A9F4', headerText: '#BBDEFB', accentDark: '#2196F3', accentLight: '#E3F2FD' }, // Blue
                    { headerStart: '#FF9800', headerEnd: '#FFB300', headerText: '#FFECB3', accentDark: '#FF9800', accentLight: '#FFF3E0' }, // Orange
                    { headerStart: '#9C27B0', headerEnd: '#E040FB', headerText: '#F3E5F5', accentDark: '#9C27B0', accentLight: '#FCE4EC' }, // Purple
                    { headerStart: '#009688', headerEnd: '#00BCD4', headerText: '#B2EBF2', accentDark: '#009688', accentLight: '#E0F2F7' }, // Teal
                    { headerStart: '#F44336', headerEnd: '#E53935', headerText: '#FFCDD2', accentDark: '#F44336', accentLight: '#FFEBEE' }, // Red
                    { headerStart: '#607D8B', headerEnd: '#78909C', headerText: '#CFD8DC', accentDark: '#607D8B', accentLight: '#ECEFF1' }  // Blue-gray
                ];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            const chosenColors = getRandomColor();
            document.documentElement.style.setProperty('--header-start-color', chosenColors.headerStart);
            document.documentElement.style.setProperty('--header-end-color', chosenColors.headerEnd);
            document.documentElement.style.setProperty('--header-text-color', chosenColors.headerText);
            document.documentElement.style.setProperty('--accent-dark-color', chosenColors.accentDark);
            document.documentElement.style.setProperty('--accent-light-color', chosenColors.accentLight);


            // --- Global Quiz Data ---
            const allQuizQuestions = {
                "introduction": [
                    {
                        question: "Quel est l'objectif principal de ce module de formation ?",
                        options: [
                            "Apprendre √† coder en HTML.",
                            "Comprendre le droit social et la veille sociale.",
                            "R√©viser les r√®gles de calcul num√©rique.",
                            "Analyser des donn√©es financi√®res complexes."
                        ],
                        correctAnswer: 1,
                        explanation: "L'objectif principal de ce module est de vous aider √† <strong>comprendre le droit social et la veille sociale en entreprise</strong>."
                    },
                    {
                        question: "Vrai ou Faux : La veille sociale est une d√©marche de r√©action plut√¥t que d'anticipation.",
                        options: [
                            "Vrai.",
                            "Faux."
                        ],
                        correctAnswer: 1,
                        explanation: "<strong>Faux</strong>. La veille sociale est une d√©marche d'anticipation et d'√©coute des signaux informationnels."
                    }
                ],
                "notion-droit-social": [
                    {
                        question: "Le droit social se compose de quelles deux branches ?",
                        options: [
                            "Droit civil et Droit p√©nal.",
                            "Droit du travail et Droit commercial.",
                            "Droit du travail et Droit de la s√©curit√© sociale.",
                            "Droit fiscal et Droit des soci√©t√©s."
                        ],
                        correctAnswer: 2,
                        explanation: "Le droit social est une branche du droit autonome qui se compose du <strong>droit du travail</strong> et du <strong>droit de la s√©curit√© sociale</strong>."
                    },
                    {
                        question: "Quelle branche du droit r√©glemente les relations entre employeurs et salari√©s ?",
                        options: [
                            "Le droit de la s√©curit√© sociale.",
                            "Le droit commercial.",
                            "Le droit du travail.",
                            "Le droit civil."
                        ],
                        correctAnswer: 2,
                        explanation: "C'est le <strong>droit du travail</strong> qui r√©glemente les relations entre employeurs et salari√©s, qu'il s'agisse des relations individuelles ou collectives."
                    }
                ],
                "sources-nationales-etatiques": [
                    {
                        question: "Quel texte constitutionnel fait partie du bloc de constitutionnalit√© et contient des principes fondamentaux du droit fran√ßais ?",
                        options: [
                            "Le Code du travail.",
                            "La D√©claration des droits de l'homme et du citoyen.",
                            "Le Code civil.",
                            "Le Code de commerce."
                        ],
                        correctAnswer: 1,
                        explanation: "La <strong>D√©claration des droits de l'homme et du citoyen</strong> (DDHC) du 26 ao√ªt 1789 fait partie du bloc de constitutionnalit√© et contient des principes fondamentaux du droit fran√ßais."
                    },
                    {
                        question: "Quel type de texte est une compilation de r√®gles se rapportant √† une m√™me branche du droit (ex: droit du travail) ?",
                        options: [
                            "Une loi.",
                            "Un d√©cret.",
                            "Une ordonnance.",
                            "Un code."
                        ],
                        correctAnswer: 3,
                        explanation: "Un <strong>code</strong> (comme le Code du travail) est une compilation de textes se rapportant √† une m√™me branche du droit, servant d'outil pratique."
                    },
                    {
                        question: "Quelle juridiction tranche les litiges individuels du travail opposant un salari√© et son employeur ?",
                        options: [
                            "Le Tribunal de grande instance.",
                            "Le Conseil de prud'hommes.",
                            "Le Tribunal administratif.",
                            "Le Tribunal des affaires de s√©curit√© sociale."
                        ],
                        correctAnswer: 1,
                        explanation: "Le <strong>Conseil de prud'hommes</strong> est la juridiction comp√©tente pour trancher les litiges individuels du travail entre un salari√© et son employeur."
                    }
                ],
                "sources-professionnelles": [
                    {
                        question: "Comment appelle-t-on les textes qui traitent de l'ensemble des conditions d'emploi, de travail et de formation professionnelle dans un secteur d'activit√© ?",
                        options: [
                            "Accords d'entreprise.",
                            "R√®glements int√©rieurs.",
                            "Conventions collectives.",
                            "Engagements unilat√©raux."
                        ],
                        correctAnswer: 2,
                        explanation: "Ces textes sont les <strong>Conventions collectives</strong>, applicables g√©n√©ralement √† un secteur d'activit√© (convention de branche)."
                    },
                    {
                        question: "Vrai ou Faux : Un usage professionnel devient obligatoire s'il est g√©n√©ral, fixe et constant.",
                        options: [
                            "Vrai.",
                            "Faux."
                        ],
                        correctAnswer: 0,
                        explanation: "<strong>Vrai</strong>. Pour qu'un usage professionnel prenne un caract√®re obligatoire et cr√©e un droit pour les salari√©s, il doit √™tre g√©n√©ral, fixe et constant."
                    },
                    {
                        question: "Depuis la loi du 4 mai 2004, est-il possible de conclure des accords d√©rogatoires (moins favorables aux salari√©s) ?",
                        options: [
                            "Oui, toujours.",
                            "Non, jamais.",
                            "Oui, dans certains cas pr√©cis et limit√©s.",
                            "Uniquement pour les salaires."
                        ],
                        correctAnswer: 2,
                        explanation: "Depuis la loi du 4 mai 2004, il est possible de conclure des <strong>accords d√©rogatoires</strong> (moins favorables aux salari√©s) dans certains cas pr√©cis et limit√©s, pour adapter les r√®gles dans un objectif de sauvegarde de l'entreprise et de l'emploi."
                    }
                ],
                "hierarchie-sources": [
                    {
                        question: "Dans la hi√©rarchie des sources du droit, quel est le niveau le plus √©lev√© ?",
                        options: [
                            "Les lois et ordonnances.",
                            "Les conventions collectives.",
                            "Les textes de valeur constitutionnelle.",
                            "Les r√®glements int√©rieurs."
                        ],
                        correctAnswer: 2,
                        explanation: "Le niveau le plus √©lev√© dans la hi√©rarchie des sources du droit est celui des <strong>textes de valeur constitutionnelle</strong> (le bloc de constitutionnalit√©)."
                    },
                    {
                        question: "Selon le principe de l√©galit√©, un contrat de travail doit √™tre conforme √† :",
                        options: [
                            "Uniquement aux usages professionnels.",
                            "Uniquement aux accords atypiques.",
                            "L'ensemble des sources sup√©rieures (lois, accords collectifs, etc.).",
                            "Uniquement au r√®glement int√©rieur."
                        ],
                        correctAnswer: 2,
                        explanation: "Selon le principe de l√©galit√©, un contrat de travail doit √™tre conforme √† <strong>l'ensemble des sources sup√©rieures</strong> qui lui sont applicables, notamment les lois et les accords collectifs."
                    },
                    {
                        question: "Vrai ou Faux : En droit social, il est toujours interdit d'√©carter une r√®gle l√©gale, m√™me si c'est pour adopter une disposition plus favorable aux salari√©s.",
                        options: [
                            "Vrai.",
                            "Faux."
                        ],
                        correctAnswer: 1,
                        explanation: "<strong>Faux</strong>. Le droit social est un droit de protection qui permet, dans le cadre du <strong>r√©gime de faveur</strong>, d'√©carter la r√®gle l√©gale pour adopter des dispositions plus favorables aux salari√©s, sauf pour les r√®gles d'ordre public absolu."
                    }
                ],
                "veille-sociale": [
                    {
                        question: "Quel est l'objectif principal de la d√©marche de veille sociale ?",
                        options: [
                            "G√©n√©rer des profits pour l'entreprise.",
                            "Actualiser l'ensemble des informations sociales et anticiper les √©volutions.",
                            "G√©rer les conflits entre salari√©s.",
                            "Organiser les √©v√©nements d'entreprise."
                        ],
                        correctAnswer: 1,
                        explanation: "L'objectif principal de la veille sociale est d'<strong>actualiser l'ensemble des informations sociales</strong> et d'adopter une d√©marche d'anticipation pour √©viter d'agir dans l'urgence."
                    },
                    {
                        question: "La fiabilit√© d'une information en veille sociale repose sur :",
                        options: [
                            "Sa longueur et sa complexit√©.",
                            "La l√©gitimit√© de sa source et son caract√®re r√©cent.",
                            "Le nombre de fois o√π elle est partag√©e.",
                            "Son co√ªt d'acquisition."
                        ],
                        correctAnswer: 1,
                        explanation: "La fiabilit√© de l'information en veille sociale repose sur la <strong>l√©gitimit√© de sa source et son caract√®re r√©cent</strong>."
                    },
                    {
                        question: "Vrai ou Faux : Le r√®glement int√©rieur est obligatoire pour toutes les entreprises, quelle que soit leur taille.",
                        options: [
                            "Vrai.",
                            "Faux."
                        ],
                        correctAnswer: 1,
                        explanation: "<strong>Faux</strong>. Le r√®glement int√©rieur est obligatoire dans les entreprises dont l'effectif est <strong>sup√©rieur ou √©gal √† 50 salari√©s</strong>."
                    }
                ],
                "a-retenir": [
                    {
                        question: "Le droit social est une branche du droit qui regroupe :",
                        options: [
                            "Le droit civil et le droit p√©nal.",
                            "Le droit du travail et le droit commercial.",
                            "Le droit du travail et le droit de la s√©curit√© sociale.",
                            "Le droit fiscal et le droit des soci√©t√©s."
                        ],
                        correctAnswer: 2,
                        explanation: "Le droit social regroupe le <strong>droit du travail</strong> et le <strong>droit de la s√©curit√© sociale</strong>."
                    },
                    {
                        question: "Quelle est la principale caract√©ristique de la hi√©rarchie des sources du droit social ?",
                        options: [
                            "Uniquement les lois s'appliquent.",
                            "Les textes inf√©rieurs priment toujours sur les sup√©rieurs.",
                            "Un texte inf√©rieur ne peut contredire un texte sup√©rieur, mais des d√©rogations plus favorables sont possibles.",
                            "Il n'y a pas de hi√©rarchie dans le droit social."
                        ],
                        correctAnswer: 2,
                        explanation: "La hi√©rarchie des sources du droit social suit le principe de l√©galit√©, mais permet des d√©rogations pour des dispositions <strong>plus favorables</strong> aux salari√©s (r√©gime de faveur)."
                    }
                ],
                "final-quiz": [ 
                    {
                        question: "La notion de droit social se compose de :",
                        options: [
                            "Droit civil et Droit p√©nal.",
                            "Droit du travail et Droit de la s√©curit√© sociale.",
                            "Droit commercial et Droit fiscal.",
                            "Droit administratif et Droit constitutionnel."
                        ],
                        correctAnswer: 1,
                        explanation: "Le droit social est une branche du droit autonome qui se compose du <strong>droit du travail</strong> et du <strong>droit de la s√©curit√© sociale</strong>."
                    },
                    {
                        question: "Parmi les sources nationales √©tatiques, laquelle est une compilation de textes relatifs √† une branche du droit ?",
                        options: [
                            "Une loi.",
                            "Une ordonnance.",
                            "Un code.",
                            "La jurisprudence."
                        ],
                        correctAnswer: 2,
                        explanation: "Un <strong>code</strong> (comme le Code du travail) est une compilation de textes se rapportant √† une m√™me branche du droit, servant d'outil pratique."
                    },
                    {
                        question: "Comment appelle-t-on les r√®gles issues de la n√©gociation collective entre employeurs et syndicats de salari√©s ?",
                        options: [
                            "R√®glements int√©rieurs.",
                            "Engagements unilat√©raux.",
                            "Accords atypiques.",
                            "Conventions et accords collectifs."
                        ],
                        correctAnswer: 3,
                        explanation: "Les r√®gles issues de la n√©gociation collective sont les <strong>conventions et accords collectifs</strong>."
                    },
                    {
                        question: "Quel est le principe fondamental qui stipule qu'aucune r√®gle ne peut aller √† l'encontre d'une r√®gle de niveau sup√©rieur ?",
                        options: [
                            "Le principe de faveur.",
                            "Le principe d'autonomie.",
                            "Le principe de l√©galit√©.",
                            "Le principe de subsidiarit√©."
                        ],
                        correctAnswer: 2,
                        explanation: "C'est le <strong>principe de l√©galit√©</strong> qui s'applique dans la hi√©rarchie des sources du droit, signifiant qu'un texte inf√©rieur ne peut contredire un texte sup√©rieur."
                    },
                    {
                        question: "Une entreprise compte 18 salari√©s. Le r√®glement int√©rieur est-il obligatoire ?",
                        options: [
                            "Oui, toujours.",
                            "Non, car l'effectif est inf√©rieur √† 50 salari√©s.",
                            "Oui, si l'entreprise le d√©cide.",
                            "Uniquement si l'entreprise a des repr√©sentants du personnel."
                        ],
                        correctAnswer: 1,
                        explanation: "Le r√®glement int√©rieur est obligatoire dans les entreprises dont l'effectif est <strong>sup√©rieur ou √©gal √† 50 salari√©s</strong>. Pour une entreprise de 18 salari√©s, il est donc facultatif."
                    },
                    {
                        question: "La fiabilit√© d'une information en veille sociale repose principalement sur :",
                        options: [
                            "Sa longueur et sa complexit√©.",
                            "La l√©gitimit√© de sa source et son caract√®re r√©cent.",
                            "Le fait qu'elle soit gratuite.",
                            "Le nombre de fois o√π elle est publi√©e."
                        ],
                        correctAnswer: 1,
                        explanation: "La fiabilit√© de l'information en veille sociale repose sur la <strong>l√©gitimit√© de sa source et son caract√®re r√©cent</strong>."
                    }
                ]
            };

            // --- Learning Section State ---
            // Define all sections and their order
            let currentLearningSectionId = 'introduction'; 
            const sectionOrder = [
                'introduction',
                'notion-droit-social',
                'sources-nationales-etatiques',
                'sources-professionnelles',
                'hierarchie-sources',
                'veille-sociale',
                'a-retenir'
            ];
            const sectionCompletion = {
                "introduction": false,
                "notion-droit-social": false,
                "sources-nationales-etatiques": false,
                "sources-professionnelles": false,
                "hierarchie-sources": false,
                "veille-sociale": false,
                "a-retenir": false
            };

            // --- Mini-Quiz State ---
            let currentActiveQuizType = null; 
            let currentQuizQuestionIndex = 0;
            let miniQuizCorrectAnswersCount = 0;
            let currentQuizQuestionsSet = []; 

            // --- UI Elements ---
            const learningSections = document.querySelectorAll('.learning-section');
            const quizContainer = document.getElementById('quiz-container');
            const quizQuestionElement = document.getElementById('quiz-question');
            const quizOptionsElement = document.getElementById('quiz-options');
            const quizFeedbackElement = document.getElementById('quiz-feedback');
            const quizExplanationElement = document.getElementById('explanation-text'); 
            const explanationTextElement = document.getElementById('explanation-text');
            const submitButton = document.getElementById('submit-answer');
            const nextButton = document.getElementById('next-question');
            const startFinalQuizBtn = document.getElementById('start-final-quiz-btn');
            const finalQuizSection = document.getElementById('final-quiz-section');
            const finalQuizIntro = document.getElementById('final-quiz-intro');

            // --- Progress Bar Elements ---
            const dotIntroduction = document.getElementById('dot-introduction');
            const dotNotionDroitSocial = document.getElementById('dot-notion-droit-social');
            const dotSourcesNationalesEtatiques = document.getElementById('dot-sources-nationales-etatiques');
            const dotSourcesProfessionnelles = document.getElementById('dot-sources-professionnelles');
            const dotHierarchieSources = document.getElementById('dot-hierarchie-sources');
            const dotVeilleSociale = document.getElementById('dot-veille-sociale');
            const dotARetenir = document.getElementById('dot-a-retenir');
            const dotFinalQuiz = document.getElementById('dot-final-quiz');

            const lineIntroduction = document.getElementById('line-introduction');
            const lineNotionDroitSocial = document.getElementById('line-notion-droit-social');
            const lineSourcesNationalesEtatiques = document.getElementById('line-sources-nationales-etatiques');
            const lineSourcesProfessionnelles = document.getElementById('line-sources-professionnelles');
            const lineHierarchieSources = document.getElementById('line-hierarchie-sources');
            const lineVeilleSociale = document.getElementById('line-veille-sociale');
            const lineARetenir = document.getElementById('line-a-retenir');

            const progressDots = {
                "introduction": dotIntroduction,
                "notion-droit-social": dotNotionDroitSocial,
                "sources-nationales-etatiques": dotSourcesNationalesEtatiques,
                "sources-professionnelles": dotSourcesProfessionnelles,
                "hierarchie-sources": dotHierarchieSources,
                "veille-sociale": dotVeilleSociale,
                "a-retenir": dotARetenir,
                "final-quiz": dotFinalQuiz
            };
            const progressLines = {
                "introduction": lineIntroduction,
                "notion-droit-social": lineNotionDroitSocial,
                "sources-nationales-etatiques": lineSourcesNationalesEtatiques,
                "sources-professionnelles": lineSourcesProfessionnelles,
                "hierarchie-sources": lineHierarchieSources,
                "veille-sociale": lineVeilleSociale,
                "a-retenir": lineARetenir
            };


            // --- Functions ---

            function updateProgressBar() {
                sectionOrder.forEach((sectionId, index) => {
                    const dot = progressDots[sectionId];
                    const line = progressLines[sectionId]; // Line *after* the dot

                    if (sectionCompletion[sectionId]) {
                        dot.classList.add('completed');
                        dot.classList.remove('active');
                        if (line) line.classList.add('completed');
                    } else if (sectionId === currentLearningSectionId) {
                        dot.classList.add('active');
                        dot.classList.remove('completed');
                    } else {
                        dot.classList.remove('active', 'completed');
                        if (line) line.classList.remove('completed');
                    }
                });

                // Final quiz dot
                const allSectionsCompleted = sectionOrder.every(id => sectionCompletion[id]);
                if (allSectionsCompleted) {
                    progressDots["final-quiz"].classList.add('active'); // Indicate it's ready
                } else {
                    progressDots["final-quiz"].classList.remove('active');
                }
            }

            function updateLearningSectionStates() {
                learningSections.forEach(section => {
                    const sectionId = section.id;
                    const summarySpan = section.querySelector('summary span');
                    const validateBtn = section.querySelector('.validate-section-btn');
                    const miniQuizArea = section.querySelector('.mini-quiz-area');
                    const detailsElement = section.querySelector('details');

                    if (sectionId === currentLearningSectionId) {
                        section.classList.remove('section-locked');
                        section.style.borderColor = 'var(--accent-dark-color)';
                        if (summarySpan) summarySpan.style.color = 'var(--accent-dark-color)';
                        if (miniQuizArea) miniQuizArea.classList.remove('hidden');
                        if (detailsElement) detailsElement.open = true; // Open active section
                        if (validateBtn) validateBtn.classList.add('hidden'); // Hide until mini-quiz is passed

                        // Automatically start mini-quiz for the active section if not completed
                        if (!sectionCompletion[sectionId] && allQuizQuestions[sectionId] && allQuizQuestions[sectionId].length > 0) {
                            startMiniQuiz(sectionId);
                        } else if (sectionCompletion[sectionId]) {
                            // If somehow active but already completed, hide quiz area
                            if (miniQuizArea) miniQuizArea.classList.add('hidden');
                        }

                    } else if (sectionCompletion[sectionId]) {
                        section.classList.remove('section-locked');
                        section.style.borderColor = '#388E3C'; /* Dark green for completed */
                        if (summarySpan) summarySpan.style.color = '#388E3C';
                        if (miniQuizArea) miniQuizArea.classList.add('hidden');
                        if (validateBtn) validateBtn.classList.add('hidden');
                        if (detailsElement) detailsElement.open = false; // Close completed section
                    } else {
                        section.classList.add('section-locked');
                        section.style.borderColor = '#CBD5E0'; /* Gray for locked */
                        if (summarySpan) summarySpan.style.color = '#607D8B';
                        if (miniQuizArea) miniQuizArea.classList.add('hidden');
                        if (validateBtn) validateBtn.classList.add('hidden');
                        if (detailsElement) detailsElement.open = false; // Keep locked sections closed
                    }
                });

                // Check if final quiz should be unlocked
                const allSectionsCompleted = sectionOrder.every(id => sectionCompletion[id]);
                if (allSectionsCompleted) {
                    finalQuizSection.classList.remove('section-locked');
                    finalQuizSection.style.borderColor = 'var(--accent-dark-color)';
                    finalQuizIntro.textContent = "F√©licitations ! Toutes les sections ont √©t√© valid√©es. Vous √™tes pr√™t pour le Quiz Final ! üéâ";
                    startFinalQuizBtn.classList.remove('hidden');
                } else {
                    finalQuizSection.classList.add('section-locked');
                    finalQuizSection.style.borderColor = '#CBD5E0'; /* Gray for locked */
                    finalQuizIntro.textContent = "Validez toutes les sections pr√©c√©dentes pour d√©bloquer le Quiz Final. üí°";
                    startFinalQuizBtn.classList.add('hidden');
                }

                updateProgressBar();
            }

            function loadQuizQuestion(quizSet, containerElementId) {
                currentQuizQuestionsSet = quizSet;
                const questionData = currentQuizQuestionsSet[currentQuizQuestionIndex];
                const container = document.getElementById(containerElementId);

                container.innerHTML = `
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">${questionData.question}</h3>
                    <div class="space-y-3 mb-6" id="${containerElementId}-options"></div>
                    <div class="p-4 rounded-lg text-sm hidden" id="${containerElementId}-feedback"></div>
                    <div class="mt-4 p-4 bg-gray-50 rounded-lg text-sm text-gray-700 hidden" id="${containerElementId}-explanation">
                        <h4 class="font-bold mb-2">Explication D√©taill√©e üßê</h4>
                        <p id="${containerElementId}-explanation-text"></p>
                    </div>
                    <div class="mt-6 flex justify-between">
                        <button class="submit-quiz-answer-btn py-2 px-4 text-white rounded-lg font-semibold hover:opacity-90 transition" style="background-color: var(--accent-dark-color);">Valider la r√©ponse ‚úÖ</button>
                        <button class="next-quiz-question-btn py-2 px-4 bg-gray-300 text-gray-800 rounded-lg font-semibold hover:bg-gray-400 transition hidden">Question suivante ‚û°Ô∏è</button>
                    </div>
                `;

                const optionsContainer = document.getElementById(`${containerElementId}-options`);
                questionData.options.forEach((option, index) => {
                    const div = document.createElement('div');
                    div.className = 'quiz-option';
                    div.innerHTML = `
                        <input type="radio" id="${containerElementId}-option${index}" name="${containerElementId}-answer" value="${index}" class="hidden">
                        <label for="${containerElementId}-option${index}" class="block p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-100 transition">${option}</label>
                    `;
                    optionsContainer.appendChild(div);
                });

                // Attach event listeners for the new buttons
                container.querySelector('.submit-quiz-answer-btn').addEventListener('click', () => submitQuizAnswer(containerElementId));
                container.querySelector('.next-quiz-question-btn').addEventListener('click', () => nextQuizQuestion(containerElementId));
            }

            function submitQuizAnswer(containerElementId) {
                const container = document.getElementById(containerElementId);
                const selectedOption = container.querySelector(`input[name="${containerElementId}-answer"]:checked`);
                const feedbackElement = container.querySelector(`#${containerElementId}-feedback`);
                const explanationElement = container.querySelector(`#${containerElementId}-explanation`);
                const explanationText = container.querySelector(`#${containerElementId}-explanation-text`);
                const submitBtn = container.querySelector('.submit-quiz-answer-btn');
                const nextBtn = container.querySelector('.next-quiz-question-btn');

                if (!selectedOption) {
                    feedbackElement.textContent = "Veuillez s√©lectionner une r√©ponse.";
                    feedbackElement.className = 'p-4 rounded-lg text-sm bg-yellow-100 text-yellow-800';
                    feedbackElement.classList.remove('hidden');
                    return;
                }

                const selectedAnswerIndex = parseInt(selectedOption.value);
                const questionData = currentQuizQuestionsSet[currentQuizQuestionIndex];

                container.querySelectorAll(`input[name="${containerElementId}-answer"]`).forEach(radio => radio.disabled = true);

                let isCorrect;
                if (Array.isArray(questionData.correctAnswer)) {
                    const selectedOptions = Array.from(container.querySelectorAll(`input[name="${containerElementId}-answer"]:checked`)).map(input => parseInt(input.value));
                    isCorrect = questionData.correctAnswer.length === selectedOptions.length &&
                                questionData.correctAnswer.every(val => selectedOptions.includes(val));
                } else {
                    isCorrect = (selectedAnswerIndex === questionData.correctAnswer);
                }

                if (isCorrect) {
                    feedbackElement.textContent = "Correct ! üéâ";
                    feedbackElement.className = 'quiz-feedback correct p-4 rounded-lg text-sm';
                    miniQuizCorrectAnswersCount++;
                } else {
                    feedbackElement.textContent = `Incorrect. La bonne r√©ponse √©tait : "${Array.isArray(questionData.correctAnswer) ? questionData.correctAnswer.map(idx => questionData.options[idx]).join(', ') : questionData.options[questionData.correctAnswer]}". üòî`;
                    feedbackElement.className = 'quiz-feedback incorrect p-4 rounded-lg text-sm';
                }
                feedbackElement.classList.remove('hidden');

                explanationText.innerHTML = questionData.explanation;
                explanationElement.classList.remove('hidden');
                
                submitBtn.classList.add('hidden');
                nextBtn.classList.remove('hidden');
            }

            function nextQuizQuestion(containerElementId) {
                currentQuizQuestionIndex++;
                if (currentQuizQuestionIndex < currentQuizQuestionsSet.length) {
                    loadQuizQuestion(currentQuizQuestionsSet, containerElementId);
                } else {
                    // Mini-quiz finished
                    const currentSectionId = currentActiveQuizType; 
                    const totalQuestions = allQuizQuestions[currentSectionId].length;
                    
                    if (miniQuizCorrectAnswersCount === totalQuestions) {
                        // All correct, enable validate button
                        document.querySelector(`#${currentSectionId} .validate-section-btn`).classList.remove('hidden');
                        document.getElementById(containerElementId).innerHTML = `<p class="text-green-700 font-semibold">Mini-quiz r√©ussi √† 100% ! Vous pouvez valider cette section. ‚úÖ</p>`;
                    } else {
                        // Not all correct, ask to retry
                        document.getElementById(containerElementId).innerHTML = `
                            <p class="text-red-700 font-semibold mb-4">Mini-quiz non r√©ussi (${miniQuizCorrectAnswersCount}/${totalQuestions} bonnes r√©ponses). Veuillez r√©essayer pour valider la section. üòî</p>
                            <button class="retry-mini-quiz-btn py-2 px-4 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition" data-section="${currentSectionId}">R√©essayer le Mini-Quiz üîÑ</button>
                        `;
                        document.getElementById(containerElementId).querySelector('.retry-mini-quiz-btn').addEventListener('click', (e) => {
                            startMiniQuiz(e.target.dataset.section);
                        });
                    }
                    currentActiveQuizType = null; // Reset active quiz type
                    currentQuizQuestionIndex = 0; // Reset for next quiz
                    miniQuizCorrectAnswersCount = 0; // Reset for next quiz
                }
            }

            function startMiniQuiz(sectionId) {
                currentActiveQuizType = sectionId;
                currentQuizQuestionIndex = 0;
                miniQuizCorrectAnswersCount = 0;

                // Hide learning content, show mini-quiz area
                const detailsElement = document.querySelector(`#${sectionId} details`);
                if (detailsElement) detailsElement.open = false; // Close content
                const miniQuizArea = document.querySelector(`#${sectionId} .mini-quiz-area`);
                if (miniQuizArea) miniQuizArea.classList.remove('hidden');
                
                loadQuizQuestion(allQuizQuestions[sectionId], `mini-quiz-${sectionId}-container`);
            }

            function validateSection(sectionId) {
                sectionCompletion[sectionId] = true;
                const sectionIndex = sectionOrder.indexOf(sectionId);
                
                // Hide mini-quiz area and validate button
                const miniQuizArea = document.querySelector(`#${sectionId} .mini-quiz-area`);
                if (miniQuizArea) miniQuizArea.classList.add('hidden');
                const validateBtn = document.querySelector(`#${sectionId} .validate-section-btn`);
                if (validateBtn) validateBtn.classList.add('hidden');

                updateLearningSectionStates(); // Update UI for current and next sections

                // Unlock next section if exists
                if (sectionIndex < sectionOrder.length - 1) {
                    currentLearningSectionId = sectionOrder[sectionIndex + 1];
                    updateLearningSectionStates(); // Re-run to unlock the next one
                    // Open the newly unlocked section's details
                    const nextSectionDetails = document.querySelector(`#${currentLearningSectionId} details`);
                    if (nextSectionDetails) nextSectionDetails.open = true;
                }
            }

            function startFinalQuiz() {
                currentActiveQuizType = 'final-quiz'; 
                currentQuizQuestionIndex = 0;
                miniQuizCorrectAnswersCount = 0; 

                finalQuizIntro.classList.add('hidden');
                startFinalQuizBtn.classList.add('hidden');
                quizContainer.classList.remove('hidden');

                loadQuizQuestion(allQuizQuestions["final-quiz"], 'quiz-container'); 
            }


            // --- Event Listeners ---

            // Initial setup for learning sections
            updateLearningSectionStates();

            // Start mini-quiz for the first section on load
            if (currentLearningSectionId === 'introduction') {
                startMiniQuiz('introduction');
            }
            
            // Attach listeners to "Valider la Section" buttons
            document.querySelectorAll('.validate-section-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    validateSection(e.target.dataset.section);
                });
            });

            // Attach listener for the final quiz start button
            startFinalQuizBtn.addEventListener('click', startFinalQuiz);

        });
    </script>
</body>
</html>
